package main

import (
	"fmt"
	"net"
)

func main() {
	// ==========================================
	// ШАГ 1: Подключаемся к серверу
	// ==========================================

	// net.Dial — "позвонить" на сервер
	//
	// "tcp" — протокол (такой же как на сервере)
	//
	// "localhost:8080" — куда подключаемся
	//    localhost = этот же компьютер (127.0.0.1)
	//    8080 = порт где слушает сервер
	//
	// Если сервер на другом компьютере:
	//    "192.168.1.100:8080" — IP адрес того компьютера
	//
	conn, err := net.Dial("tcp", "localhost:8080")

	if err != nil {
		fmt.Println("Не удалось подключиться к серверу:", err)
		fmt.Println("")
		fmt.Println("Убедись что сервер запущен!")
		fmt.Println("В другом терминале выполни: go run server.go")
		return
	}

	defer conn.Close()

	fmt.Println("Подключился к серверу!")
	fmt.Println("")

	// ==========================================
	// ШАГ 2: Отправляем сообщение
	// ==========================================

	// Наше сообщение
	message := "Привет от клиента!"

	// []byte(message) — превращаем строку в байты
	// conn.Write() — отправляем байты через соединение
	//
	// Данные летят по сети:
	// Клиент → Роутер → (интернет) → Роутер → Сервер
	//
	// В нашем случае localhost — данные не выходят из компьютера
	//
	_, err = conn.Write([]byte(message))

	if err != nil {
		fmt.Println("Ошибка отправки:", err)
		return
	}

	fmt.Println("Сообщение отправлено:")
	fmt.Println(message)
}

